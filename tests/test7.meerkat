service test7 {

  table sample {
    id: number, 
    name: string, 
    age: number, 
    };

  def b = select id, name from sample where sample.id < 3;

  def act = fn x => fn y => fn z => action {
    insert {id: x, name: y, age: z } into sample
  };

}

@test(test7) {
  
    do act(1)("Sunay")(18);
    do act(2)("A")(20);
    do act(3)("B")(34);
    do act(4)("C")(50);
    do act(5)("D")(25);
    do act(6)("E")(23);

    assert(b == [{id: 1, name: "Sunay"}, {id: 2, name: "A"}]);
}